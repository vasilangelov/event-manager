@using EM.Web.Models.ViewModels.PurchasedTickets

@model IEnumerable<PurchasedTicketsViewModel>

@{
    ViewData["Title"] = "Active tickets";
}

<h1 class="text-center">Active tickets</h1>

@if (Model.Any())
{
    @foreach (var ticket in Model)
    {
        <div class="card mb-3 col-md-9 mx-auto">
            <div class="row g-0">
                <div class="col-md-4">
                    <img src="@ticket.EventImageUrl" alt="@ticket.EventName" class="img-fluid rounded-start">
                </div>
                <div class="col-md-8">
                    <div class="card-body d-flex flex-column justify-content-center h-100 gap-1 py-0">
                        <h4 class="card-title">@ticket.EventName at @ticket.VenueName</h4>
                        <div class="card-text">
                            <div data-date-culture="en-US"
                         data-date-style="full"
                         data-date-display="@ticket.EventDate.ToString("O")">
                            </div>
                            <div>
                                Count: @ticket.Amount Price: @ticket.Price.ToString("F2")
                            </div>
                            <div>
                                Transaction Id: @ticket.TransactionId
                            </div>
                            <a class="btn btn-primary w-fit-content" asp-controller="Events" asp-action="Details" asp-route-id="@ticket.EventId">Event Page</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
}
else
{
    <div class="fs-4 text-center">It seems that you do not have tickets for upcoming events...</div>
}
